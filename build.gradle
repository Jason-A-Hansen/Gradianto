plugins {
    id 'java'
    id 'org.jetbrains.intellij.platform' version '2.2.1'
}

group 'thvardhan'
version '6.0'

repositories {
    mavenCentral()
    intellijPlatform {
        defaultRepositories()
        jetbrainsRuntime()
        snapshots()
    }
}

dependencies {
    testImplementation group: 'junit', name: 'junit', version: '4.12'
    intellijPlatform {
        local("C:\\Program Files\\JetBrains\\IntelliJ IDEA 2025.3.1.1")
    }
}

java {
    sourceCompatibility = JavaVersion.VERSION_21
    targetCompatibility = JavaVersion.VERSION_21
}

intellijPlatform {
    pluginConfiguration {
        changeNotes = """
            <h3>6.0</h3>
          <ul>
            <li>Added Islands theme support</li>
            <li>Fixed name issue in new EAP ides</li>
          </ul>
          """
    }
}

// Disable building searchable options to avoid launching IDE process which crashes with local installation
tasks.named("buildSearchableOptions") {
    enabled = false
}
